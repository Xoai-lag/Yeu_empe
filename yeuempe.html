<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Y√™u Empe üíñ</title>
  <style>
    body {
      background: linear-gradient(45deg, #ff9a9e, #fad0c4);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      position: relative;
      text-size-adjust: 100%;
      -webkit-text-size-adjust: 100%;
      -moz-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
    }

    .envelope {
      position: relative;
      width: 300px;
      height: 400px; /* ƒê·ªß kh√¥ng gian cho c√°c ph·∫ßn */
      border: 2px solid #ff6b81;
      border-radius: 10px;
      display: flex;
      flex-direction: column;
      justify-content: space-evenly;
      align-items: center;
      padding: 20px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      background: white;
      opacity: 0;
      transform: scale(0.5);
      animation: fadeIn 2s forwards;
    }

    /* ·∫¢nh hi·ªÉn th·ªã ·ªü ph·∫ßn tr√™n c√πng, b·∫Øt bu·ªôc h√¨nh vu√¥ng */
    .envelope-img {
      width: 100%;
      aspect-ratio: 1/1; /* B·∫Øt bu·ªôc ·∫£nh th√†nh h√¨nh vu√¥ng */
      object-fit: cover;
      border-radius: 5px;
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: scale(0.5);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Thanh ti·∫øn tr√¨nh */
    .progress {
      position: relative;
      width: 100%;
      height: 15px;
      background: white;
      border-radius: 5px;
      overflow: hidden;
    }

    .progress-bar {
      width: 0;
      height: 100%;
      background: red;
      animation: loadProgress 3s forwards;
    }

    @keyframes loadProgress {
      0% {
        width: 0;
      }
      100% {
        width: 100%;
      }
    }

    .progress-hearts {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: space-around;
      transform: translateY(-50%);
      pointer-events: none;
      font-size: 16px;
    }

    /* Hi·ªáu ·ª©ng lung linh cho tr√°i tim */
    .progress-hearts span {
      animation: sparkle 1s infinite alternate;
    }

    @keyframes sparkle {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      100% {
        transform: scale(1.2);
        opacity: 0.7;
      }
    }

    /* D√≤ng ch·ªØ b√™n d∆∞·ªõi in ƒë·∫≠m */
    .letter {
      font-size: 18px;
      text-align: center;
      font-weight: bold;
    }

    /* N√∫t b·∫•m in ƒë·∫≠m */
    .click-btn {
      padding: 10px 20px;
      color: #ff4757;
      border-radius: 5px;
      cursor: pointer;
      animation: blink 1s infinite;
      background: none;
      border: none;
      display: none; /* ·∫®n ban ƒë·∫ßu, hi·ªÉn th·ªã sau 3 gi√¢y */
      font-weight: bold;
    }

    @keyframes blink {
      0%,
      100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    .window {
      position: absolute;
      width: 250px;
      height: 150px;
      background: white;
      border: 2px solid #ff6b81;
      border-radius: 5px;
      box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.3);
      opacity: 0;
      transform: scale(0.5) rotate(5deg);
      transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
      display: flex;
      flex-direction: column;
      cursor: grab;
    }

    .title-bar {
      background: #ff6b81;
      color: white;
      padding: 5px;
      text-align: center;
      font-weight: bold;
      cursor: move;
      touch-action: none;
      user-select: none;
      -webkit-user-select: none;
    }

    .window-content {
      padding: 10px;
      font-size: 14px;
      text-align: center;
      color: #333;
    }
  </style>
</head>
<body>
  <div class="envelope">
    <!-- ·∫¢nh h√¨nh vu√¥ng -->
    <img
      src="https://i.pinimg.com/1200x/5f/f1/99/5ff1991f5cc04a21b95b6ad839c7a170.jpg"
      alt="Love"
      class="envelope-img"
    />

    <!-- Thanh ti·∫øn tr√¨nh -->
    <div class="progress">
      <div class="progress-bar"></div>
      <div class="progress-hearts">
        <span>‚ù§Ô∏è</span>
        <span>‚ù§Ô∏è</span>
        <span>‚ù§Ô∏è</span>
      </div>
    </div>

    <!-- D√≤ng ch·ªØ in ƒë·∫≠m -->
    <div class="letter" draggable="false">üíå Y√™u K√¨u Nguy√™n V√£i √í üíå</div>

    <!-- N√∫t b·∫•m in ƒë·∫≠m -->
    <div class="click-btn" onclick="showWindows()">Nh·∫•n V√†o ƒê√¢y</div>
  </div>

  <script>
    // Hi·ªÉn th·ªã n√∫t sau 3 gi√¢y
    setTimeout(() => {
      document.querySelector(".click-btn").style.display = "block";
    }, 3000);

    // T√°ch th√†nh 2 m·∫£ng tin nh·∫Øn ƒë·ªÉ kh√¥ng g·∫∑p gi·ªõi h·∫°n l∆∞u tr·ªØ c·ªßa string
    const messages1 = [
      "üíñ Nguy√™n ∆°iii!! Aiu c·ªßa em b√© n√® <3",
      "üíñ Ch√∫c Empe c√≥ m·ªôt ng√†y valentine th·∫≠t vui v·∫ª v√† th·∫≠t xinh ƒë·∫πp nha üíñ",
      "üíñ Hong nh·ªØng ng√†y valentine, ch√∫c cho em b√© lu√¥n lu√¥n kh·ªèe m·∫°nh üíñ",
      "üíñ Ch√∫c cho nh·ªØng ni·ªÅm vui v√† nhi·ªÅu ƒëi·ªÅu may m·∫Øn lu√¥n ƒë·∫øn v·ªõi b√© üíñ",
      "üíñ Ch√∫c cho empe ng√†y c√†ng th·∫≠t xinh ƒë·∫πp v√† h·∫°nh ph√∫c khi ·ªü b√™n anhhh üíñ",
      "üíñ Anh bi·∫øt anh h∆°i nh·∫°y c·∫£m v√† th√≠ch qu·∫•n l·∫•y b√©. Nh∆∞ng m√† em b√© kh√¥ng c·∫ßn ph·∫£i lo anh kh√¥ng ph·∫£i l√† ng∆∞·ªùi d·ªÖ b·ªè cu·ªôc khi g·∫∑p kh√≥ ƒë√¢u üíñ",
      "üíñ Anh c√≥ cho m√¨nh m·ªôt ni·ªÅm tin c·ª±c k√¨ m·∫°nh m·∫Ω. V√† √Ω ch√≠ c·ªßa anh lu√¥n h∆°n h·∫≥n nhi·ªÅu ng∆∞·ªùi üíñ"
    ];

    const messages2 = [
      "üíñ Empe c√≥ th·ªÉ ho√†n to√†n d·ª±a d·∫´m v√† tin t∆∞·ªüng v√†o Nguy·ªÖn Kh√°nh Duy.",
      "üíñ Anh c·∫£m th·∫•y anh th·∫≠t s·ª± l√† m·ªôt ng∆∞·ªùi r·∫•t may m·∫Øn v√† h·∫°nh ph√∫c khi ƒë∆∞·ª£c em b√© y√™u th∆∞∆°ng, quann t√¢m, chƒÉm s√≥c v√† ƒë∆∞·ª£c ƒë·ªìng h√†nh c√πng em b√© üíñ",
      "üíñ Em b√© si√™u d·ªÖ th∆∞∆°ng, em b√© si√™u xinh lu√¥n, em b√© l√† ƒë·ªânh nh·∫•t",
      "üíñ Y√™u Empe V√£i √í üíñ",
      "üíñ Y√™u K√¨u Nguy√™n V√£i √í üíñ",
      "üíñ Anh Iuuu Empe Nh√¨uu l·∫Ømmmm √°üíñ",
      "üíñ Moaaaaaa!!!üíñ",
      "üíñ Hy v·ªçng Empe v√† Aiu s·∫Ω lu√¥n lu√¥n quan t√¢m v√† ƒë·ªìng h√†nh c√πng nhauuuüíñ"
    ];

    function showWindows() {
      let delay = 0;
      // L·∫∑p qua 2 m·∫£ng messages
      [messages1, messages2].forEach(messagesGroup => {
        messagesGroup.forEach(msg => {
          let windowDiv = document.createElement("div");
          windowDiv.className = "window";

          let titleBar = document.createElement("div");
          titleBar.className = "title-bar";
          titleBar.textContent = "üíñ Y√™u Empe üíñ";

          let content = document.createElement("div");
          content.className = "window-content";
          content.textContent = msg;

          windowDiv.appendChild(titleBar);
          windowDiv.appendChild(content);
          document.body.appendChild(windowDiv);

          let x = Math.random() * (window.innerWidth - 260);
          let y = Math.random() * (window.innerHeight - 170);
          windowDiv.style.left = x + "px";
          windowDiv.style.top = y + "px";

          setTimeout(() => {
            windowDiv.style.opacity = 1;
            windowDiv.style.transform = "scale(1)";
          }, delay);

          delay += 200; // tƒÉng ƒë·ªô tr·ªÖ cho tin nh·∫Øn ti·∫øp theo

          // H·ªó tr·ª£ k√©o c·ª≠a s·ªï b·∫±ng chu·ªôt v√† c·∫£m ·ª©ng
          function startDrag(e) {
            e.preventDefault();
            let startX = e.clientX || e.touches[0].clientX;
            let startY = e.clientY || e.touches[0].clientY;
            let rect = windowDiv.getBoundingClientRect();
            let shiftX = startX - rect.left;
            let shiftY = startY - rect.top;

            function moveAt(pageX, pageY) {
              windowDiv.style.left = pageX - shiftX + "px";
              windowDiv.style.top = pageY - shiftY + "px";
            }

            function onMove(e) {
              let pageX = e.clientX || e.touches[0].clientX;
              let pageY = e.clientY || e.touches[0].clientY;
              moveAt(pageX, pageY);
            }

            function stopDrag() {
              document.removeEventListener("mousemove", onMove);
              document.removeEventListener("touchmove", onMove);
              document.removeEventListener("mouseup", stopDrag);
              document.removeEventListener("touchend", stopDrag);
            }

            document.addEventListener("mousemove", onMove, { passive: false });
            document.addEventListener("touchmove", onMove, { passive: false });
            document.addEventListener("mouseup", stopDrag);
            document.addEventListener("touchend", stopDrag);
          }

          titleBar.addEventListener("mousedown", startDrag);
          titleBar.addEventListener("touchstart", startDrag, { passive: false });
        });
      });
    }
  </script>
</body>
</html>
